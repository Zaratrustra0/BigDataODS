## 数据治理

**数仓建设真正的难点不在于数仓设计，而在于后续业务发展起来，业务线变的庞大之后的数据治理**，包括资产治理、数据质量监控、数据指标体系的建设等。

其实数据治理的范围很⼴，包含数据本⾝的管理、数据安全、数据质量、数据成本等。在 DAMA 数据管理知识体系指南中，数据治理位于数据管理 “车轮图” 的正中央，是数据架构、数据建模、数据存储、数据安全、数据质量、元数据管理、主数据管理等 10 大数据管理领域的总纲，为各项数据管理活动提供总体指导策略。

![](https://mmbiz.qpic.cn/sz_mmbiz_png/ZubDbBye0zEpD1NhauttNjXR8VQOdTJFFQPhXEcFH9HdI4nSk6wPOJOsnAJoQCNHXLsD7SUu8ibzppnW1q8A6lw/640?wx_fmt=png)

### 数据治理之道是什么

##### 1. 数据治理需要体系建设

为发挥数据价值需要满足三个要素：**合理的平台架构、完善的治理服务、体系化的运营手段**。

根据企业的规模、所属行业、数据量等情况选择合适的平台架构；治理服务需要贯穿数据全生命周期，保证数据在采集、加工、共享、存储、应用整个过程中的完整性、准确性、一致性和实效性；运营手段则应当包括规范的优化、组织的优化、平台的优化以及流程的优化等等方面。

##### 2. 数据治理需要夯实基础

数据治理需要循序渐进，但在建设初期至少需要关注三个方面：**数据规范、数据质量、数据安全**。规范化的模型管理是保障数据可以被治理的前提条件，高质量的数据是数据可用的前提条件，数据的安全管控是数据可以共享交换的前提条件。

##### 3. 数据治理需要 IT 赋能

数据治理不是一堆规范文档的堆砌，而是需要将治理过程中所产生的的规范、流程、标准落地到 IT 平台上，在数据生产过程中通过 “以终为始” 前向的方式进行数据治理，避免事后稽核带来各种被动和运维成本的增加。

##### 4. 数据治理需要聚焦数据

数据治理的本质是管理数据，因此需要加强元数据管理和主数据管理，从源头治理数据，补齐数据的相关属性和信息，比如：元数据、质量、安全、业务逻辑、血缘等，通过元数据驱动的方式管理数据生产、加工和使用。

##### 5. 数据治理需要建管一体化

数据模型血缘与任务调度的一致性是建管一体化的关键，有助于解决数据管理与数据生产口径不一致的问题，避免出现两张皮的低效管理模式。

### 浅谈数据治理方式

如上面所说，数据治理的范围非常广，其中最重要的是数据质量治理，而数据质量涉及的范围也很广，贯穿数仓的整个生命周期，从**数据产生 -> 数据接入 -> 数据存储 -> 数据处理 -> 数据输出 -> 数据展示**，每个阶段都需要质量治理，评价维度包括**完整性、规范性、一致性、准确性、唯一性、关联性**等。

在系统建设的各个阶段都应该根据标准进行数据质量检测和规范，及时进行治理，避免事后的清洗工作。

质量检测可参考以下维度：

| 维度    | 衡量标准                                                            |
| ----- | --------------------------------------------------------------- |
| 完整性   | 业务指定必须的数据是否缺失，不允许为空字符或者空值等。例如，数据源是否完整、维度取值是否完整、数据取值是否完整等        |
| 时效性   | 当需要使用时，数据能否反映当前事实。即数据必须及时，能够满足系统对数据时间的要求。例如处理（获取、整理、清洗、加载等）的及时性 |
| 唯一性   | 在指定的数据集中数据值是否唯一                                                 |
| 参照完整性 | 数据项是否在父表中有定义                                                    |
| 依赖一致性 | 数据项取值是否满足与其他数据项之间的依赖关系                                          |
| 正确性   | 数据内容和定义是否一致                                                     |
| 精确性   | 数据精度是否达到业务规则要求的位数                                               |
| 技术有效性 | 数据项是否按已定义的格式标准组织                                                |
| 业务有效性 | 数据项是否符合已定义的                                                     |
| 可信度   | 根据客户调查或客户主动提供获得                                                 |
| 可用性   | 数据可用的时间和数据需要被访问时间的比例                                            |
| 可访问性  | 数据是否便于自动化读取                                                     |

* * *

下面是根据美团的技术文章总结的几点具体治理方式：

##### 1. 规范治理

规范是数仓建设的保障。为了避免出现指标重复建设和数据质量差的情况，统一按照最详细、可落地的方法进行规范建设。

(1) **词根**

词根是维度和指标管理的基础，划分为普通词根与专有词根，提高词根的易用性和关联性。

-   普通词根：描述事物的最小单元体，如：交易 - trade。
-   专有词根：具备约定成俗或行业专属的描述体，如：美元 - USD。

(2) **表命名规范**

通用规范

-   表名、字段名采用一个下划线分隔词根（示例：clienttype->client_type）。
-   每部分使用小写英文单词，属于通用字段的必须满足通用字段信息的定义。
-   表名、字段名需以字母为开头。
-   表名、字段名最长不超过 64 个英文字符。
-   优先使用词根中已有关键字（数仓标准配置中的词根管理），定期 Review 新增命名的不合理性。
-   在表名自定义部分禁止采用非标准的缩写。

表命名规则

-   **表名称** = 类型 + 业务主题 + 子主题 + 表含义 + 存储格式 + 更新频率 + 结尾，如下图所示：

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/ZubDbBye0zEpD1NhauttNjXR8VQOdTJF6SAmFQHviaez8V1A46aNPMEHAw746ew3DFpOdxfPajlcKfo4jwr9mgg/640?wx_fmt=jpeg)

统一的表命名规范

(3) **指标命名规范**

结合指标的特性以及词根管理规范，将指标进行结构化处理。

1.  基础指标词根，即所有指标必须包含以下基础词根：

![](https://mmbiz.qpic.cn/sz_mmbiz_png/ZubDbBye0zEpD1NhauttNjXR8VQOdTJFlFa2Exbr2HSvyuGNUrpX7EuZAZ0e6aRSPX3ZsLnX2oBDqc3zX6brAw/640?wx_fmt=png)

2.  业务修饰词，用于描述业务场景的词汇，例如 trade - 交易。

3\. 日期修饰词，用于修饰业务发生的时间区间。

![](https://mmbiz.qpic.cn/sz_mmbiz_png/ZubDbBye0zEpD1NhauttNjXR8VQOdTJFNxwFelg4W5oKgtQLVhvs9SaibFjIic4Ksx5YKLDD7mEp1cx4ngl43hlw/640?wx_fmt=png)

4\. 聚合修饰词，对结果进行聚集操作。

![](https://mmbiz.qpic.cn/sz_mmbiz_png/ZubDbBye0zEpD1NhauttNjXR8VQOdTJFqoSgGLO9Y3NRlzicibuianxYw6IzAkrptrQfhE21lNM33Jslmlch9KDQA/640?wx_fmt=png)

5\. 基础指标，单一的业务修饰词 + 基础指标词根构建基础指标 ，例如：交易金额 - trade_amt。

6\. 派生指标，多修饰词 + 基础指标词根构建派生指标。派生指标继承基础指标的特性，例如：安装门店数量 - install_poi_cnt。

7\. 普通指标命名规范，与字段命名规范一致，由词汇转换即可以。![](https://mmbiz.qpic.cn/sz_mmbiz_png/ZubDbBye0zEpD1NhauttNjXR8VQOdTJFISwM0zvsCkYbDOaFb9rGHxpILXjDInmOvv4mD0BOaeWiacOrLEPUHXg/640?wx_fmt=png)

##### 2. 架构治理

(1) **数据分层**

优秀可靠的数仓体系，往往需要清晰的数据分层结构，即要保证数据层的稳定又要屏蔽对下游的影响，并且要避免链路过长，一般的分层架构如下：![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/ZubDbBye0zEpD1NhauttNjXR8VQOdTJFhibRLl8Oo0o2g76eJUQwqScrQQbcj08yOWIBJqD0atKricva5GkpvqYQ/640?wx_fmt=jpeg)

(2) **数据流向**

稳定业务按照标准的数据流向进行开发，即 ODS-->DWD-->DWA-->APP。非稳定业务或探索性需求，可以遵循 ODS->DWD->APP 或者 ODS->DWD->DWT->APP 两个模型数据流。在保障了数据链路的合理性之后，又在此基础上确认了模型分层引用原则：

-   正常流向：ODS>DWD->DWT->DWA->APP，当出现 ODS >DWD->DWA->APP 这种关系时，说明主题域未覆盖全。应将 DWD 数据落到 DWT 中，对于使用频度非常低的表允许 DWD->DWA。
-   尽量避免出现 DWA 宽表中使用 DWD 又使用（该 DWD 所归属主题域）DWT 的表。
-   同一主题域内对于 DWT 生成 DWT 的表，原则上要尽量避免，否则会影响 ETL 的效率。
-   DWT、DWA 和 APP 中禁止直接使用 ODS 的表， ODS 的表只能被 DWD 引用。
-   禁止出现反向依赖，例如 DWT 的表依赖 DWA 的表。

##### 3. 元数据治理

元数据可分为技术元数据和业务元数据：

**技术元数据**为开发和管理数据仓库的 IT 人员使用，它描述了与数据仓库开发、管理和维护相关的数据，包括数据源信息、数据转换描述、数据仓库模型、数据清洗与更新规则、数据映射和访问权限等。

常见的技术元数据有：

-   存储元数据：如表、字段、分区等信息。
-   运行元数据：如大数据平台上所有作业运行等信息：类似于 Hive Job 日志，包括作业类型、实例名称、输入输出、 SQL 、运行参数、执行时间，执行引擎等。
-   数据开发平台中数据同步、计算任务、任务调度等信息：包括数据同步的输入输出表和字段，以及同步任务本身的节点信息：计算任务主要有输入输出、任务本身的节点信息 任务调度主要有任务的依赖类型、依赖关系等，以及不同类型调度任务的运行日志等。
-   数据质量和运维相关元数据：如任务监控、运维报警、数据质量、故障等信息，包括任务监控运行日志、告警配置及运行日志、故障信息等。

**业务元数据**为管理层和业务分析人员服务，从业务角度描述数据，包括商务术语、数据仓库中有什么数据、数据的位置和数据的可用性等，帮助业务人员更好地理解数据仓库中哪些数据是可用的以及如何使用。

-   常见的业务元数据有维度及属性 (包括维度编码，字段类型，创建人，创建时间，状态等)、业务过程、指标 (包含指标名称, 指标编码，业务口径，指标类型，责任人，创建时间，状态，sql 等)，安全等级，计算逻辑等的规范化定义，用于更好地管理和使用数据。数据应用元数据，如数据报表、数据产品等的配置和运行元数据。

元数据不仅定义了数据仓库中数据的模式、来源、抽取和转换规则等，而且是整个数据仓库系统运行的基础，元数据把数据仓库系统中各个松散的组件联系起来，组成了一个有机的整体。

**元数据治理主要解决三个问题**：

1.  通过建立相应的组织、流程和工具，推动业务标准的落地实施，实现指标的规范定义，消除指标认知的歧义；
2.  基于业务现状和未来的演进方式，对业务模型进行抽象，制定清晰的主题、业务过程和分析方向，构建完备的技术元数据，对物理模型进行准确完善的描述，并打通技术元数据与业务元数据的关系，对物理模型进行完备的刻画；
3.  通过元数据建设，为使用数据提效，解决 “找数、理解数、评估” 难题以及 “取数、数据可视化” 等难题。

##### 4. 安全治理

围绕数据安全标准，首先要有数据的分级、分类标准，确保数据在上线前有着准确的密级。第二，针对数据使用方，要有明确的角色授权标准，通过分级分类和角色授权，来保障重要数据拿不走。第三，针对敏感数据，要有隐私管理标准，保障敏感数据的安全存储，即使未授权用户绕过权限管理拿到敏感数据，也要确保其看不懂。第四，通过制定审计标准，为后续的审计提供审计依据，确保数据走不脱。

##### 5. 数据生命周期治理

任何事物都具有一定的生命周期，数据也不例外。从数据的产生、加工、使用乃至消亡都应该有一个科学的管理办法，将极少或者不再使用的数据从系统中剥离出来，并通过核实的存储设备进行保留，不仅能够提高系统的运行效率，更好的服务客户，还能大幅度减少因为数据长期保存带来的储存成本。数据生命周期一般包含在线阶段、归档阶段（有时还会进一步划分为在线归档阶段和离线归档阶段）、销毁阶段三大阶段，管理内容包括建立合理的数据类别，针对不同类别的数据制定各个阶段的保留时间、存储介质、清理规则和方式、注意事项等。

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/ZubDbBye0zEpD1NhauttNjXR8VQOdTJFkFkXpf9WmUrytVg6wibYC1KYAuXCmBeIXQIFerkKcbPwbtOw4vCpdSw/640?wx_fmt=jpeg)

从上图数据生命周期中各参数间的关系中我们可以了解到，数据生命周期管理可以使得高价值数据的查询效率大幅提升，而且高价格的存储介质的采购量也可以减少很多；但是随着数据的使用程度的下降，数据被逐渐归档，查询时间也慢慢的变长；最后随着数据的使用频率和价值基本没有了之后，就可以逐渐销毁了。

>以上部分来自：关于数仓建设及数据治理的超全概括


# 数据治理方法论
### 什么是数据治理？

数据治理是指从使用零散数据变为使用统一数据、从具有很少或没有组织流程到企业范围内的综合数据管控、从数据混乱状况到数据井井有条的一个过程。

从范围来讲，数据治理涵盖了从前端业务系统、后端业务数据库再到业务终端的数据分析，从源头到终端再回到源头，形成的一个闭环负反馈系统。从目的来讲，数据治理就是要对数据的获取、处理和使用进行监督管理。

是以服务组织战略目标为基本原则，通过组织成员的协同努力，流程制度的制定，以及数据资产的梳理、采集清洗、结构化存储、可视化管理和多维度分析，实现数据资产价值获取、业务模式创新和经营风险控制的过程。是一个持续性的服务，而不是一个有着明确范围的一锤子买卖。

### 为什么要实施数据治理？

-   经过 30 年的信息化建设，企业和政府部门都围绕着业务需求建设了众多的业务系统，从而导致数据的种类和数量大增，看似积累了众多的数据资产，实则在需要使用时，困难重重。
-   因为各个业务系统的建设都是围绕着业务需求来建设的，当业务环境发生变化时，原来的业务系统不能互联互通，不能满足跨部门、跨职能、跨组织的协作需求。
-   各个业务系统所产生的海量数据以复杂而分散的形式存储，导致数据之间的不一致和冲突等质量问题，从而导致数据在应用过程中的无所适从，难以实现数据的深度利用，从而难以实现业务模式创新和经营风险控制。

### 数据治理的目标是什么？

数据治理本身不是目的，它只是实现组织战略目标的一个手段。

从组织职能和体量大小方面来看，不同类型组织的数据治理目标大不相同：

-   集团企业总部和政府大数据管理局的目标是：制定数据政策、保障数据安全、促进数据在组织内无障碍共享，其重点目标是推进和保障数据战略的顺利实施。
-   企业和政府业务部门的目标是：通过提升信息管理能力，提升组织精细化管理水平，提高业务运营效率，增强组织决策能力和核心竞争力，从而为实现组织战略目标提供能力支撑，其重点目标是数据价值获取、业务模式创新和经营风险控制

### 数据治理包含哪些内容？

相对于国际组织和国际企业发布的数据治理框架，以下国家标准 GB/T 34960 发布的数据治理框架比较符合我国企业和政府的组织现状。包含顶层设计、数据治理环境、数据治理域和数据治理过程。

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IkMFNqQPDe6qTHMnqPld4pga0O9qK8bsykCRa7BmKcYXD3UzWFQhVuw/640?wx_fmt=jpeg)

1\. 顶层设计是数据治理实施的基础，是根据据组织当前的业务现状、信息化现状和数据现状，设定组织机构的职权利，并定义符合组织战略目标的数据治理目标和可行的行动路径。

2\. 数据治理环境是数据治理成功实施的保障，指的是分析领导层、管理层、执行层等等利益相关方的需求，识别项目支持力量和阻力，制定相关制度以确保项目的顺利推进。

3\. 数据治理域是数据治理的相关管理制度，是指制定数据质量、数据安全、数据管理体系等相关标准制度，并基于数据价值目标构建数据共享体系、数据服务体系和数据分析体系。

4\. 数据治理过程就是一个 PDCA（plan-do-check-act）的过程，是数据治理的实际落地过程，包含确定数据治理目标，制定数据治理计划，执行业务梳理、设计数据架构、数据采集清洗、存储核心数据、实施元数据管理和血缘追踪，并检查治理结果与治理目标的匹配程度。

### 数据治理实施方法论

近年来，推动数据治理体系建设一直是业界探索的热点。结合多年政府各个部门及各类企业数据治理项目经验，百分点曾经提出数据治理项目开展过程中数据治理平台应具备 4 大能力：聚、治、通、用，以及项目实施总体指导思想：PDCA。

![](https://mmbiz.qpic.cn/mmbiz_png/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3Ihgj8H9aTKZj0gib7j6AASFUhAjYEhYMibIW2rYD2ic9hWXsJ8dpO4kWTA/640?wx_fmt=png)

四大能力建设：

-   聚：数据汇聚能力
-   治：狭义数据治理能力，包括数据标准、数据质量、元数据、数据安全、数据生命周期、主数据。
-   通：数据拉通整合能力，原始业务数据分散在各业务系统中，数据组织是以满足业务流转为前提。
-   用：数据服务能力，数据资产只有真正赋能于前端业务才能发挥实际效用，所以如何让业务部门快速找到并便利的使用所需数据资产是数据治理平台的另一项核心能力。

P：plan，标准、规划、流程制定；D：do，产品工具辅助落地；C：check，业务技术双重检查保证；A：action，持续优化提升数据质量及服务。

![](https://mmbiz.qpic.cn/mmbiz_png/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3I9D0lgYCriaAfLe7NibZbnwfFyj6wZbo0hQEMOq9H68eDpWUEPeGaFzVw/640?wx_fmt=png)

结合数据治理项目实际落地实施过程以四大能力构建、PDCA 实施指导思想提出了 “PAI” 实施方法论，即流程化（process-oriented）、自动化（automation）、智能化（intelligence）三化论，以逐步递进方式不断提升数据治理能力，为政府和企业后续的数据赋能业务及数据催生业务创新打下坚实基础。

流程化将数据治理项目执行过程进行流程化梳理，同时规范流程节点中的标准输入输出，并将标准输入输出模板化。另外对各流程节点的重点注意事项进行提示。是数据治理工作开展第一步，是自动化和智能化的基础，将数据治理各节点开展过程中用到的内容进行梳理并规范，包括：业务流程图、网络架构图、业务系统台账等，行业知识梳理完善以后形成行业版知识（抽离通用版），如标准文件梳理：1. 代码表整理，2. 数据元标准整理（数据仓库行业模型对应标准梳理）。

自动化针对流程化之后的相关节点及标准输入输出进行自动化开发，减轻人力负担，让大家将精力放在业务层面及新技术拓展上，避免重复人力工作。如自动化数据接入及自动化脚本开发等。

智能化针对新项目或是新领域结合历史项目经验及沉淀给出推荐内容，比如模型创建、数据质量稽核规则等。在流程化、自动化基础之上针对数据拉通整合、主题模型、数据加工检查给出智能化建议，减少人工分析的工作。

### 数据治理需要哪些工具？

从技术实施角度看，数据治理包含 “理”“采”“存”“管”“用” 这五个步骤，即业务和数据资源梳理、数据采集清洗、数据库设计和存储、数据管理、数据使用。

-   数据资源梳理：数据治理的第一个步骤是从业务的视角厘清组织的数据资源环境和数据资源清单，包含组织机构、业务事项、信息系统，以及以数据库、网页、文件和 API 接口形式存在的数据项资源，本步骤的输出物为分门别类的数据资源清单。
-   数据采集清洗：通过可视化的 ETL 工具（例如阿里的 DataX，Pentaho Data Integration）将数据从来源端经过抽取 (extract)、转换 (transform)、加载 (load) 至目的端的过程，目的是将散落和零乱的数据集中存储起来。
-   基础库主题库建设：基础数据一般指的是核心实体数据，主题数据一般指的是某个业务主题数据，分析数据指的是基于业务主题数据综合分析而得的分析结果数据。基础库和主题库的建设就是在对业务理解的基础上，基于易存储、易管理、易使用的原则抽像数据存储结构，就是基于一定的原则设计数据库表结构，然后再根据数据资源清单设计数据采集清洗流程，将整洁干净的数据存储到数据库或数据仓库中。
-   元数据管理：元数据管理是对基础库和主题库中的数据项属性的管理，同时，将数据项的业务含义与数据项进行关联，还是自动化数据共享、数据交换和商业智能（BI）的基础。
-   血缘追踪：数据被业务场景使用时，发现数据错误，数据治理团队需要快速定位数据来源，修复数据错误。我们的实践是在元数据和数据资源清单之间建立关联关系，且业务团队使用的数据项由元数据组合配置而来，这样，就建立了数据使用场景与数据源头之间的血缘关系。
-   数据资源目录：基于业务场景和行业规范而创建，同时依托于元数据和基础库主题而实现自动化的数据申请和使用。一般应用于数据共享的场景。
-   质量管理：数据价值的成功发掘必须依托于高质量的数据，唯有准确、完整、一致的数据才有使用价值。因此，需要从多维度来分析数据的质量。例如：偏移量、非空检查、值域检查、规范性检查、重复性检查、关联关系检查、离群值检查、波动检查等等。
-   商业智能（BI）：数据治理的目的是使用，对于一个大型的数据仓库来说，数据使用的场景和需求是多变的，那么可以使用 BI 类的产品快速获取需要的数据，并分析形成报表。
-   数据共享交换：数据共享包括组织内部和组织之间的数据共享，共享方式也分为库表、文件和 API 接口三种共享方式，库表共享比较直接粗暴，文件共享方式通过 ETL 工具做一个反向的数据交换就可以实现。

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IKKqAbAGLtpMyUTwzvy49UxXDodcJQrP28aickfyVCvhPx6S35c2FtcQ/640?wx_fmt=jpeg)

### 通过大数据治理提供多种数据服务，从根本上解决数据问题

传统数据治理更多是在强调通过一些流程和制度把数据质量提高，并不能很好地解决以上种种数据问题。现在做数据治理，更多是为大家提供统一的数据服务的能力，从而让数据问题得以解决。

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IMaeyYaG9Uib4TEJSTXTibqoXSvWhcVUvczBy7mSzZQ4Cs2o5hOiaKv5Fw/640?wx_fmt=jpeg)

这样的环境应该包括哪些东西？需要能解决一些什么样的问题？简单总结就是四个字：管（Manage）、看（Browse）、找（Discover）、用（Apply）。

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3Iia2RdXQbqBqgWMqiaSeAzvPyH5Jbj6DyVjy5A93ukbPP5ak1NXzxvpZA/640?wx_fmt=jpeg)

-   管。我们管的时候，需要建立整个企业层面的元数据以及跟合作伙伴打交道的元数据，这样才能把所有的数据和数据之间的关系统一整合起来，而这些元数据不是手工录入进去，而是采进去的。后面会讲到我们元数据的智能化采集，这是能体现数据治理智能化的概念之一。
-   看。“看” 的部分是能展现数据治理效果、决定数据治理成败的主要部分。
-   找。要想实现 “找”，要建立业务元数据跟技术元数据的匹配，其中的难点是如何通过业务含义来查找数据，如果从技术含义找这些数据其实问题不是很大。恰恰我们做数据分析做使用都是从业务含义上来找，需要找到语义以及语义的上下级的关系，并且做一个延伸的搜索。
-   用。


# 数据应用实践
## 数据地图（Wherehows）

数据地图作为元数据应用的一个产品，聚焦于数据使用者的 “找数” 场景，实现检索数据和理解数据的 “找数” 诉求。通过对离线数据集和在线数据集的元数据刻画，满足了用户找数和理解数的诉求，通过血缘图谱，完成物理表到产品的血缘建设，消除用户人肉评估的痛苦。

离线数据场景

-   关键字检索和向导查询共同解决了 “找数据” 的问题

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IhIYzSgo6ib5icw7c8cIeP9KWXUro2HLffy0n89f2FRZOdE5TGroPLPdA/640?wx_fmt=jpeg)
![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3I414AMdPnj0o2Aib7CnJJFQ8BojOtzpibibPJZTW9V71SMfKXjOVicicJgCg/640?wx_fmt=jpeg)

-   打通业务元数据和技术元数据之间的关系，提高 “找数据” 的能力

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3ItCcvO3iceJiaGIUeJTyKBuEyJHg9t7nfWA58zooxjsLbJUFkb7kianFog/640?wx_fmt=jpeg)

-   提供较为完善的数据信息，帮助用户更好理解数据

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3ISd4Q6CUTd32VxUwRUKx4nhADe7dySCcbdxkFXkx9nlicTtOp67yU1Vg/640?wx_fmt=jpeg)

-   通过评论问答功能，帮助用户快速得到问题反馈

![](https://mmbiz.qpic.cn/mmbiz_png/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IPWYcCKdQkR0OFDD4wFnJbbPOicATJYwCVPjWt9nlwZtOfzicnR2R2ribw/640?wx_fmt=png)

业务数据场景

业务数据场景主要想解决的一个问题是，如何知道一个业务表（MySQL 表）有没有同步到数仓。

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IC5KNxajUSDgedILDuk9lu30ktHQ6fgQtHYJnskdfEFmk5Dhic4oxc1w/640?wx_fmt=jpeg)

生产评估场景

在日常数据生产工作中，经常需要对表进行影响评估、故障排查、链路分析等工作，这些工作如果靠纯人工去做，费时费力。但现在打通了 “业务表 / 字段 -> 数仓表 / 字段 -> 产品” 三者之间的血缘关系，就能够在 10 分钟内完成评估工作。对于不同的场景，血缘链路提供了两个便捷的功能：过滤和剪枝。例如，某个表逻辑需要修改，需要看影响哪些下游表或产品？应该要通知哪些 RD 和 PM？这种情况下，血缘工具直观地显示影响了哪些负责人和产品，以及这个表的下游链路。

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IOZAWEltLUOibEicbnfQNzibWibOY29oTewcnG1FuYiaIZKe5PKBundAnuKg/640?wx_fmt=jpeg)

有些表的链路很长，整个血缘关系图很大，这样会导致用户定位信息或问题。所以血缘工具提供了剪枝的功能，对于没用的、不想看到的分支可以剪掉，从而让整个链路变得更加直观。

## 数据可视化（QuickSight）

聚焦于数据使用者 “取数” 场景，使用 QuickSight，用户可以不再关心数据的来源，不再担心数据的一致性，不再依赖 RD 的排期开发。通过所选即所得的方式，满足用户对业务核心指标的二次加工、报表和取数诉求。

首先，通过指标池、数据集等概念对离线生产的指标进行逻辑隔离，针对不同用户开发不同的数据集以达到权限控制的目的。

![](https://mmbiz.qpic.cn/mmbiz_png/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IeMvd625lpqIWoCic6icicv3xE1AZR8a2WZB7s1kj9n0gcTrRCAhNYLib6A/640?wx_fmt=png)

用户、指标池与数据集间的关系

其次，为用户提供一系列的组件，帮助用户基于为其开放的数据集实现指标的二次加工和数据可视化功能，满足其在不同业务场景下的取数和可视化应用。

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3ItX1bTYv5CV7W2HwMh6JrfNx630yDyCkfIzdic89DumyMGXJeQExibvnw/640?wx_fmt=jpeg)

![](https://mmbiz.qpic.cn/mmbiz_jpg/sq2uE6cicHYz1eqdibEZZzmHARhefic0I3IBiaFU9CZUhKe6QxBY6sK0lYKSbUqbLtafBVJqrZC2qKW3NGuDJXbNIw/640?wx_fmt=jpeg)

指标加工组件

## 总结

-   在数据标准方面，制定了业务标准、技术标准、安全标准、资源管理标准，从而保障了数据生产、管理、使用合规。
-   在数据架构方面，通过桥接表、时间刻度化、业务口径下沉等手段提升模型灵活性，并保障数据一致性，消除跨层引用和模型冗余等问题。
-   在数据安全方面，加强了对敏感数据和数据共享环节的安全治理，保证数据拿不走、走不脱，隐私数据看不懂。
-   在元数据建设方面，打通了从采集到构建再到应用的整条链路，并为数据使用人员提供数据地图、数据可视化等元数据应用产品，帮助解决了 “找数”、“取数”、“影响评估” 等难题。

> 以上内容来自：数据治理方法论和实践小百科全书

